<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>è€å©†å¤§äººçš„ç›¸å†Œ â¤ï¸</title>

<style>
body{
    font-family:"Microsoft YaHei";
    background:linear-gradient(135deg,#ffc1cc,#ffd9ec);
    text-align:center;
}

/* éšè—é»˜è®¤ä¸Šä¼  */
#upload{
    display:none;
}

/* è‡ªå®šä¹‰æŒ‰é’® */
.uploadBtn{
    background:#ff4d6d;
    color:white;
    padding:12px 25px;
    border-radius:25px;
    cursor:pointer;
    display:inline-block;
}

.gallery img{
    width:180px;
    margin:10px;
    border-radius:15px;
    cursor:pointer;
    transition:0.3s;
}

.gallery img:hover{
    transform:scale(1.05);
}

#viewer{
    display:none;
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.9);
}

#viewer img{
    max-width:80%;
    margin-top:5%;
}
</style>
</head>

<body>

<h1>ğŸ“¸ è›™å„¿å¿ƒè‚ & è€å©†å¤§äººçš„å›å¿†</h1>

<label class="uploadBtn">
â• æ·»åŠ ç…§ç‰‡
<input type="file" id="upload" multiple accept="image/*">
</label>

<br><br>
<button onclick="location.href='index.html'">è¿”å›é¦–é¡µ</button>

<div class="gallery" id="gallery"></div>

<div id="viewer" onclick="this.style.display='none'">
<img id="bigImg">
</div>

<script>

const upload=document.getElementById("upload");
const gallery=document.getElementById("gallery");

let images=JSON.parse(localStorage.getItem("album"))||[];

function render(){
    gallery.innerHTML="";
    images.forEach(src=>{
        const img=document.createElement("img");
        img.src=src;

        img.onclick=()=>{
            document.getElementById("viewer").style.display="block";
            document.getElementById("bigImg").src=src;
        }

        gallery.appendChild(img);
    });
}

upload.onchange=function(){

    const files=this.files;

    for(let file of files){

        const reader=new FileReader();

        reader.onload=e=>{
            images.push(e.target.result);
            localStorage.setItem("album",JSON.stringify(images));
            render();
        }

        reader.readAsDataURL(file);
    }

}

render();

</script>
</body>
</html>